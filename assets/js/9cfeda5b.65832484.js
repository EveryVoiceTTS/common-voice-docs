"use strict";(self.webpackChunkcommon_voice_docs=self.webpackChunkcommon_voice_docs||[]).push([[553],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return g}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=c(n),g=r,m=p["".concat(s,".").concat(g)]||p[g]||d[g]||o;return n?a.createElement(m,i(i({ref:t},u),{},{components:n})):a.createElement(m,i({ref:t},u))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},112:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return g},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return d}});var a=n(7462),r=n(3366),o=(n(7294),n(3905)),i=["components"],l={},s="Languages",c={unversionedId:"language",id:"language",title:"Languages",description:"Can we limit the available languages?",source:"@site/docs/language.md",sourceDirName:".",slug:"/language",permalink:"/common-voice-docs/docs/language",editUrl:"https://github.com/joanise/common-voice-docs/tree/main/docs/language.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Getting Started",permalink:"/common-voice-docs/docs/getting_started"},next:{title:"Audio Backup",permalink:"/common-voice-docs/docs/microservices/audio"}},u={},d=[{value:"How to Add a New Language",id:"how-to-add-a-new-language",level:2},{value:"Generating Utterances",id:"generating-utterances",level:2}],p={toc:d};function g(e){var t=e.components,n=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"languages"},"Languages"),(0,o.kt)("p",null,"Can we limit the available languages?\n",(0,o.kt)("inlineCode",{parentName:"p"},"locales/all.json")," controls the available languages in the UI's drop down box.\nIt looks like the UI's language and the utterances' language are the same meaning that if you select English, you get the UI in English and you also get the utterances in English."),(0,o.kt)("h2",{id:"how-to-add-a-new-language"},"How to Add a New Language"),(0,o.kt)("p",null,"Since we haven't found a wait to have the UI in one language and the utterances in another language, we've decided to add a new language code for the utterances and copy the localizations of English to that new language."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Add ",(0,o.kt)("inlineCode",{parentName:"li"},"git")," & ",(0,o.kt)("inlineCode",{parentName:"li"},"str")," to ",(0,o.kt)("inlineCode",{parentName:"li"},"locales/all.json")," in order to get those new languages to show up in the UI's top-right dropdown box;"),(0,o.kt)("li",{parentName:"ul"},"We weren't sure what ",(0,o.kt)("inlineCode",{parentName:"li"},"locales/contributable.json")," is for so we also added ",(0,o.kt)("inlineCode",{parentName:"li"},"git")," & ",(0,o.kt)("inlineCode",{parentName:"li"},"str")," to it;"),(0,o.kt)("li",{parentName:"ul"},"In order to get the new language names to properly show up in the UI, we added their full names to ",(0,o.kt)("inlineCode",{parentName:"li"},"locales/native-names.json"),";"),(0,o.kt)("li",{parentName:"ul"},"Again, we weren't sure what ",(0,o.kt)("inlineCode",{parentName:"li"},"locales/translated.json")," is for and opted to add ",(0,o.kt)("inlineCode",{parentName:"li"},"git")," & ",(0,o.kt)("inlineCode",{parentName:"li"},"str")," to it;"),(0,o.kt)("li",{parentName:"ul"},"Under ",(0,o.kt)("inlineCode",{parentName:"li"},"server/data"),", we created two directories, ",(0,o.kt)("inlineCode",{parentName:"li"},"git/")," & ",(0,o.kt)("inlineCode",{parentName:"li"},"str/")," and populated them with some ",(0,o.kt)("inlineCode",{parentName:"li"},"utterances.txt"),";"),(0,o.kt)("li",{parentName:"ul"},"Finally, we want the UI to be in English even for ",(0,o.kt)("inlineCode",{parentName:"li"},"git")," & ",(0,o.kt)("inlineCode",{parentName:"li"},"str")," so we've decided to use the English localizations for them.  We create two directories, ",(0,o.kt)("inlineCode",{parentName:"li"},"git/")," & ",(0,o.kt)("inlineCode",{parentName:"li"},"str/")," under ",(0,o.kt)("inlineCode",{parentName:"li"},"web/locales/")," and simply copied the two files from ",(0,o.kt)("inlineCode",{parentName:"li"},"en/"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"cross-locale.ftl")," & ",(0,o.kt)("inlineCode",{parentName:"li"},"messages.ftl")," to each of the new languages' directory.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cp en/* git/\ncp en/* str/\n")),(0,o.kt)("h2",{id:"generating-utterances"},"Generating Utterances"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"mkdir -p server/data/git\nmkdir -p server/data/str\n\n./generator.py > server/data/git/utterances.txt\n./generator.py > server/data/str/utterances.txt\n")))}g.isMDXComponent=!0}}]);